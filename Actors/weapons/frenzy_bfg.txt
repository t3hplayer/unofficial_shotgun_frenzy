ACTOR BFG : Weapon
{
  Game Doom
  Height 20
  SpawnID 31
  Weapon.SelectionOrder 2800
  Weapon.AmmoUse 40
  Weapon.AmmoGive 40
  Weapon.AmmoType "Cell"
  +WEAPON.NOAUTOFIRE
  Inventory.PickupMessage "$GOTBFG9000" // "You got the BFG9000!  Oh, yes."
  Obituary "$OB_MPBFG_SPLASH" // "%o couldn't hide from %k's BFG"
  DamageType			MarineFire2
	Weapon.UpSound			"w/load6"
  States
  {
  Ready:
    BFGG A 1 A_WeaponReady
    loop
  Deselect:
    BFGG A 1 A_Lower
    loop
  Select:
    BFGG A 1 A_Raise
    loop
  Fire:
    BFGG A 20 A_BFGSound
    BFGG B 10 A_GunFlash
    BFGG B 10 A_FireCustomMissile("sfBFGBall")
    BFGG B 20 A_ReFire
    goto Ready
  Flash:
    BFGF A 11 bright A_Light1
    BFGF B 6 bright A_Light2
    Goto LightDone
  Spawn:
    BFUG A -1
    stop
  }
}

actor sfBFGBall
{
  Game Doom
  SpawnID 128
  Radius 13
  Height 8
  Speed 25
  Damage 500
  Renderstyle Add
  Alpha 0.75
  DeathSound "weapons/bfgx"
  Projectile
  +RANDOMIZE
  DamageType			MarineFire2
  Obituary "$OB_MPBFG_BOOM" // "%o was splintered by %k's BFG."
  explosionradius 256
  explosiondamage 300
  States
  {
  Spawn:
    BFS1 AB 4 bright
    loop
  Death:
    BFE1 AB 8 bright
    BFE1 C 8 bright A_BFGSpray
    BFE1 DEF 8 bright
    stop
  }
}

actor sfBFGBallS_tw : sfBFGBall
{
  Damage 120
  +RIPPER
  States
  {
  Spawn:
    BFS1 AB 4 bright
//    BFE1 C 8 bright A_Explode
    BFE1 C 8 bright A_BFGSpray
    loop
  Death:
    BFE1 AB 8 bright
    BFE1 C 8 bright A_BFGSpray
    BFE1 DEF 8 bright
    stop
  }
}

actor BFGS : BFG
{
  Weapon.SlotNumber 8
  States
  {
  Ready:
    BFGG A 1 A_WeaponReady
    loop
  Deselect:
    BFGG A 1 A_Lower
    loop
  Select:
    BFGG A 1 A_Raise
    loop
  Fire:
    BFGG A 20 A_BFGSound
    BFGG B 10 A_GunFlash
    BFGG B 10 A_FireCustomMissile("sfBFGBallS_tw")
    BFGG B 20 A_ReFire
    goto Ready
  Flash:
    BFGF A 11 bright A_Light1
    BFGF B 6 bright A_Light2
    Goto LightDone
  Spawn:
    BFUG A -1
    stop
  }
}
